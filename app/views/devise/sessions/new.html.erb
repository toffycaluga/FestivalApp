

<h2>Iniciar Sesion</h2>

<%= form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
  

      <div class="field form-outline m-3 text-start fw-bold ">
        <%= f.label :email ,class:"form-label"%><br />
        <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form-control" %>
      </div>



      <div class="field form-outline m-3 text-start fw-bold">
        <%= f.label "contraseña" ,class:"form-label"%><br />
        <%= f.password_field :password, autocomplete: "current-password" , class: "form-control", onChange:"setupAvatarPreview()"%>
      </div>    
 
  <% if devise_mapping.rememberable? %>
    <div class="field form-check d-flex justify-content-start ml-3 mb-4">
      <%= f.check_box :remember_me ,class:"form-check-input me-2"%>
      <%= f.label :remember_me,class:"form-check-label" %>
    </div>
  <% end %>

  <div class="actions text-end">
    <%= f.submit "Iniciar Sesion",class:"btn btn-primary px-5 mb-4 " %>
  </div>
<% end %>

<%= render "devise/shared/links" %>

<script>
  var loginForm = document.querySelector('#new_user');
var submitButton = document.querySelector('input[type="submit"]');

// Agregar un controlador de eventos para el envío del formulario
loginForm.addEventListener('submit', function(event) {
  // Mostrar el loader
  var loader = document.querySelector('#loader');
  loader.style.display = 'block';

  // Deshabilitar el botón de envío para evitar múltiples envíos
  submitButton.disabled = true;
});
</script>